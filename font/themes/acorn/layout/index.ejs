<!-- Index -->

<%- partial('_partial/page/hero', {cache: true}) %>



<% for (var section in site.data.index){%>
  <section class="section py-5 <%=site.data.index[section]['bg_color'] %>" id="<%=site.data.index[section]['id'] %>">
    <!-- 是否宽度沾满设置，如果沾满类名就变成container-fluid -->
    <div class="container<%=site.data.index[section]['fluid'] %>">
      
      <div class="section-heading text-center mb-5">
        <!-- 这里是根据index.yml文件，我们去遍历然后生成找到，每一个部分的里面的配置信息，这里是首页每个部分的标题和描述 -->
        <h3><%=site.data.index[section]['title'] %></h3>
        <p class="text-gray"><%=site.data.index[section]['subtitle'] %></p>

      </div>

      <!-- 这里是跳转路径，paginatio、index为携带参数 -->
      <% if ('partial' in site.data.index[section]) { %>
        <div class="section-body">
          <%- partial('_partial/'+site.data.index[section]['partial'], {pagination: 2, index: true}) %>
        </div>
        <!-- 这个参数来自客户，目前用不到这一部分，暂时不管 -->
      <% }else if('partials' in site.data.index[section]) { %>
        <% for (var partialIndex in site.data.index[section]['partials']){%>
          <div class="section-body">
            <%- partial('_partial/'+site.data.index[section]['partials'][partialIndex], {pagination: 2, index: true}) %>
          </div>
        <% } %>
      <% } %>
      <!-- 更多，链接路径，就是“查看更多”，但是可以发现，这里主题只给出了新闻部分的查看更多，意思就是其他部分也可以有，只是没有配置 -->
     
      <% if ('more' in site.data.index[section] && site.data.index[section]['more'] !== null ) { %>
        <div class="d-flex justify-content-center pt-5">
          <%- link_to(site.data.index[section]['more'], '→ 查看更多',{class: 'btn btn-lg bg-white shadow-hover'}) %>
        </div>
      <% } %>
    </div>
   
  </section>

<%} %>
<!-- 这里实现荣誉墙 -->
<div class="section-heading text-center mb-5">
  <!-- 这里是根据index.yml文件，我们去遍历然后生成找到，每一个部分的里面的配置信息，这里是首页每个部分的标题和描述 -->
  <h3></h3>
  <p class="text-gray">定制计划</p>

</div>